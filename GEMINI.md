# Gemini Context for TPP Project

## Project Overview

This is a **Next.js 16** application designed for financial visualization, specifically focusing on Annual PL (Profit & Loss) analysis. It provides an interactive dashboard with charts and tables to compare financial metrics like ARR (Annual Recurring Revenue), Operating Profit, and Gross Profit Margin over time.

### Key Technologies

*   **Framework**: Next.js 16.1.4 (App Router)
*   **Language**: TypeScript
*   **Styling**: Tailwind CSS v4
*   **UI Components**: [shadcn/ui](https://ui.shadcn.com) (Radix UI primitives)
*   **Icons**: Lucide React
*   **Visualization**: Recharts (for composed bar/line charts)
*   **Data Grid**: react-datasheet-grid (for spreadsheet-like data editing/viewing)
*   **Testing**: Playwright

## Architecture & Structure

The project follows the standard Next.js App Router structure within the `src` directory.

### Directory Breakdown

*   `src/app/`: Contains the application routes and layouts.
    *   `page.tsx`: The main entry point for the Annual PL dashboard.
    *   `layout.tsx`: Root layout definition.
    *   `globals.css`: Global styles and Tailwind imports.
*   `src/components/`: React components.
    *   `ui/`: Generic, reusable UI components (likely generated by shadcn/ui).
    *   `pl-chart.tsx`: Domain-specific component for visualizing PL data using Recharts.
    *   `pl-table.tsx`: Domain-specific component for tabular PL data.
    *   `app-sidebar.tsx` & `app-header.tsx`: Application shell components.
*   `src/lib/`: Utility functions (e.g., `utils.ts` for Tailwind class merging).
*   `src/hooks/`: Custom React hooks (e.g., `use-mobile.ts`).
*   `public/`: Static assets (SVGs).
*   `scripts/`: Comparison scripts (`compare-pages.mjs`, `compare-screenshots.mjs`) likely used for visual regression testing or migration verification.

## Development Workflow

### Scripts

*   **Development Server**: `npm run dev` (Starts at http://localhost:3000)
*   **Production Build**: `npm run build`
*   **Start Production Server**: `npm run start`
*   **Linting**: `npm run lint`

### Coding Conventions

*   **Component Structure**:
    *   Use functional components with TypeScript.
    *   Place "use client" at the top of files requiring client-side interactivity (e.g., charts, interactive UI).
    *   Separate domain-specific feature components (e.g., `pl-chart.tsx`) from generic UI components (`ui/`).
*   **Styling**:
    *   Use Tailwind CSS utility classes for styling.
    *   Use `cn()` utility (from `lib/utils.ts`) for conditional class merging.
*   **Icons**: Import from `lucide-react`.

## Key Features

1.  **Dashboard Layout**: Uses a sidebar layout (`SidebarProvider`) with a header and main content area.
2.  **PL Chart**: A `ComposedChart` (Recharts) visualizing:
    *   ARR (Bar, Blue)
    *   Operating Profit (Bar, Green/Red based on value)
    *   Gross Profit Margin (Line, Amber)
3.  **Scenario Comparison**: UI support for switching between "Normal Case" and comparison views (tabs).
